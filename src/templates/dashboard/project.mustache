<div class="dashboard-project-header">
    {{# project_presenter }}
        <div class="dashboard-project-header-main">
            <h1 class="dashboard-project-title">
                {{# has_parent }}
                    <small class="dashboard-project-title-parent">{{ parent_name }}</small>
                    <svg xmlns="http://www.w3.org/2000/svg" class="dashboard-project-title-parent-icon">
                        <path d="M1,27 L1,28 L11,28 L11,30 L14,27 L11,24 L11,26 L3,26 L3,20 L1,20 L1,27 Z" transform="translate(-1 -20)"/>
                    </svg>
                {{/ has_parent }}
                <span class="dashboard-project-title-name">{{ name }}</span>
            </h1>
            {{# access }}
                <span
                        class="tlp-badge-primary
                        dashboard-project-header-access
                        {{# is_public_incl_restricted }}
                            tlp-tooltip tlp-tooltip-bottom
                        {{/ is_public_incl_restricted }}
                    "
                    {{# is_public_incl_restricted }}
                        data-tlp-tooltip="{{ incl_restricted_label }}"
                    {{/ is_public_incl_restricted }}
                >
                    <i class="tlp-badge-icon fa
                        {{# is_wide_open }}fa-unlock{{/ is_wide_open }}
                        {{# is_open }}fa-unlock-alt{{/ is_open }}
                        {{# is_closed }}fa-lock{{/ is_closed }}"
                    ></i> {{ access }}
                </span>
            {{/ access }}
            <span class="tlp-badge-primary dashboard-project-header-members">
                <i class="tlp-badge-icon fa fa-users"></i>
                {{ nb_members }}
            </span>
        </div>
        {{# has_trove_cat }}
            <div class="dashboard-project-header-trovecat">
                <i class="fa fa-tags dashboard-project-header-trovecat-icon"></i>
                {{ trove_cats }}
            </div>
        {{/ has_trove_cat }}
        {{# should_display_a_warning_message_for_no_trove_cat }}
            <div class="dashboard-project-header-trovecat">
                <span class="tlp-text-danger"><i class="fa fa-warning"></i> {{ warning_no_trove_cat }}</span>
            </div>
        {{/ should_display_a_warning_message_for_no_trove_cat }}
    {{/ project_presenter }}
</div>

<div class="tlp-framed-vertically">
    {{# has_dashboard }}
        <nav class="tlp-tabs dashboard-tabs">
            {{# project_dashboards }}
                <a class="tlp-tab {{# is_active }}tlp-tab-active{{/ is_active }}" href="{{ url }}?dashboard_id={{ id }}">
                    {{ name }}
                    {{^ is_page_read_only }}
                        {{# is_active }}
                            <button class="tlp-button-primary tlp-button-outline tlp-button-mini dashboard-edit-button"
                                    title="{{ edit_dashboard_title }}"
                                    id="edit-dashboard-button"
                                    data-target-modal-id="edit-dashboard-modal"
                            >
                                <i class="fa fa-pencil"></i>
                            </button>
                            <button class="tlp-button-danger tlp-button-outline tlp-button-mini dashboard-delete-button"
                                    title="{{ delete_dashboard_title }}"
                                    id="delete-dashboard-button"
                                    data-target-modal-id="delete-dashboard-modal"
                            >
                                <i class="fa fa-trash-o"></i>
                            </button>
                        {{/ is_active }}
                    {{/ is_page_read_only }}
                </a>
            {{/ project_dashboards }}
            {{^ is_page_read_only }}
                <a href="javascript:;"
                   id="add-dashboard-button"
                   class="tlp-button-primary tlp-button-mini tlp-button-outline"
                   data-target-modal-id="add-dashboard"
                >
                    <i class="fa fa-plus tlp-button-icon"></i>
                    {{ add_dashboard_label }}
                </a>
            {{/ is_page_read_only }}
        </nav>
        {{# project_dashboards }}
            {{# is_active }}
                {{# has_widget }}
                    {{> widgets }}
                {{/ has_widget }}
                {{^ has_widget }}
                    <div class="empty-page">
                        <p class="empty-page-text">{{ no_widget_label }}</p>
                        {{^ is_page_read_only }}
                            <p class="empty-page-text">{{{ purified_no_widget_action_label }}}</p>
                            <button
                                    type="button"
                                    id="no-widgets-edit-dashboard-button"
                                    class="tlp-button-primary tlp-button-large"
                                    data-target-modal-id="no-widgets-edit-dashboard-modal"
                            >
                                <i class="fa fa-plus tlp-button-icon"></i>
                                {{ edit_dashboard_label }}
                            </button>
                            {{> no-widgets-edit-dashboard-modal }}
                        {{/ is_page_read_only }}
                    </div>
                {{/ has_widget }}
            {{/ is_active }}
        {{/ project_dashboards }}
    {{/ has_dashboard }}
</div>

{{^ has_dashboard }}
    <div class="empty-page">
        <p class="empty-page-text">{{ no_dashboard_label }}</p>
        {{^ is_page_read_only }}
            <button
                    type="button"
                    id="add-dashboard-button"
                    class="tlp-button-primary tlp-button-large"
                    data-target-modal-id="add-dashboard"
            >
                <i class="fa fa-plus tlp-button-icon"></i>
                {{ add_dashboard_label }}
            </button>
        {{/ is_page_read_only }}
    </div>
{{/ has_dashboard }}

{{^ is_page_read_only }}
    {{> add-dashboard-modal }}
    {{# project_dashboards }}
        {{# is_active }}
            {{> delete-dashboard-modal }}
            {{> edit-dashboard-modal }}
        {{/ is_active }}
    {{/ project_dashboards }}
{{/ is_page_read_only }}