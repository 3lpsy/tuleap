ul.backlog-items, ul.backlog-item-children {
    margin: 0;

    > li.backlog-item {
        list-style-type: none;
        position: relative;

        > .show-children {
                margin: 0 auto;
                width: 90%;
                background: #FFFFFF;
                border-bottom-right-radius: 3px;
                border-bottom-left-radius: 3px;
                box-shadow: inset 1px 0 0 #E3E3E3,
                    inset -1px 0 0 #E3E3E3,
                    inset 0 1px 0 rgba(242,242,242,0.50),
                    inset 0 -1px 0 #E3E3E3,
                    0 1px 0 0 rgba(242,242,242,0.50);

            > .children {
                padding: 10px;
            }

            > .show-children-handle {
                border: 1px solid #E3E3E3;
                border-top: none;
                height: 8px;
                cursor: pointer;
                border-bottom-right-radius: 2px;
                border-bottom-left-radius: 2px;
                transition: background-color 0.1s linear;
                background: #EAEAEA url("grip-open.png") center center no-repeat;

                &.show-children-close {
                    background-image: url("grip-close.png");
                }

                &:hover {
                    background-color: lighten(#EAEAEA, 3%);
                    transition: background-color 0.1s linear;
                }

            }
        }

        &:first-child > .backlog-item-details {
            margin: 0;
        }

        > .backlog-item-details {
            cursor: move;
            position: relative;
            margin: 10px 0 0;
            padding: 5px 5px 5px 12px;
            background: #FFFFFF;
            border: 1px solid #E8E8E8;
            border-radius: 3px;
            box-shadow: 0px 1px 0px 0px rgba(242, 242, 242, 0.5);

            > div.type-border {
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width: 5px;
                border-top-left-radius: 2px;
                border-bottom-left-radius: 2px;
            }

            &.inca_silver {
                > div.type-border     { background-color: @inca_silver; }
                > span.initial-effort { background-color: @inca_silver; }
            }
            &.chrome_silver {
                > div.type-border     { background-color: @chrome_silver; }
                > span.initial-effort { background-color: @chrome_silver; }
            }
            &.fiesta_red {
                > div.type-border     { background-color: @fiesta_red; }
                > span.initial-effort { background-color: @fiesta_red; }
            }
            &.teddy_brown {
                > div.type-border     { background-color: @teddy_brown; }
                > span.initial-effort { background-color: @teddy_brown; }
            }
            &.clockwork_orange {
                > div.type-border     { background-color: @clockwork_orange; }
                > span.initial-effort { background-color: @clockwork_orange; }
            }
            &.red_wine {
                > div.type-border     { background-color: @red_wine; }
                > span.initial-effort { background-color: @red_wine; }
            }
            &.acid_green {
                > div.type-border     { background-color: @acid_green; }
                > span.initial-effort { background-color: @acid_green; }
            }
            &.army_green {
                > div.type-border     { background-color: @army_green; }
                > span.initial-effort { background-color: @army_green; }
            }
            &.sherwood_green {
                > div.type-border     { background-color: @sherwood_green; }
                > span.initial-effort { background-color: @sherwood_green; }
            }
            &.ocean_turquoise {
                > div.type-border     { background-color: @ocean_turquoise; }
                > span.initial-effort { background-color: @ocean_turquoise; }
            }
            &.daphne_blue {
                > div.type-border     { background-color: @daphne_blue; }
                > span.initial-effort { background-color: @daphne_blue; }
            }
            &.lake_placid_blue {
                > div.type-border     { background-color: @lake_placid_blue; }
                > span.initial-effort { background-color: @lake_placid_blue; }
            }
            &.deep_blue {
                > div.type-border     { background-color: @deep_blue; }
                > span.initial-effort { background-color: @deep_blue; }
            }
            &.plum_crazy {
                > div.type-border     { background-color: @plum_crazy; }
                > span.initial-effort { background-color: @plum_crazy; }
            }
            &.peggy_pink {
                > div.type-border     { background-color: @peggy_pink; }
                > span.initial-effort { background-color: @peggy_pink; }
            }
            &.flamingo_pink {
                > div.type-border     { background-color: @flamingo_pink; }
                > span.initial-effort { background-color: @flamingo_pink; }
            }

            > span.id {
                margin: 0 5px 0 0;
                color: #999;
                font-size: 0.9em;
                letter-spacing: -0.03em;
            }

            > span.summary {
                font-size: 0.9em;
            }

            > span.initial-effort {
                float: right;
                margin: 0 0 0 5px;
            }

            > span.parent {
                display: block;
                color: #999;
                font-style: italic;
                font-size: 0.8em;
                letter-spacing: -0.03em;
            }

            > ul.extra_card_fields {
                margin: 10px 0 0;

                > li {
                    display: inline-block;
                    list-style-type: none;
                    font-size: 0.8em;

                    &.large {
                        width: 100%;
                    }

                    > div {
                        margin: 0 20px 0 0;

                        span.extra_card_field_title {
                            color: #999;
                        }

                        span.color {
                            display: inline-block;
                            width: 9px;
                            height: 9px;
                            border-radius: 50%;
                            margin: 0 3px 0 0;
                        }

                        a:hover {
                            text-decoration: none;
                        }
                    }
                }
            }
        }

        &.undraggable > .backlog-item-details {
            cursor: default;
        }

        &.updating > .backlog-item-details {
            background-image: url('loader-mini.gif');
            background-repeat: no-repeat;
            background-position: right 5px bottom 5px;
        }
    }
}

div.milestones > fieldset.milestone > div.content {
    ul.backlog-items, ul.backlog-item-children {
        margin: 0;
        padding: 0;
    }
}

.angular-ui-tree-empty {
    background: transparent url('milestone-empty.png') no-repeat center center;
    margin: 0 0 10px;
    border: none;
}
.angular-ui-tree-nodes .angular-ui-tree-nodes {
    padding: 0;
}
.angular-ui-tree-placeholder {
    background: #58B359;
    max-height: 3px;
    min-height: 3px;
    margin: 10px;

    &:only-child {
        background: transparent url('milestone-empty.png') no-repeat center center;
        box-shadow: inset 0 0 0 2px #58B359;
        max-height: 100px;
        min-height: 100px;
        border-radius: 2px;
        margin: 0;
    }
}

ul.backlog-items, ul.backlog-item-children {
    > li.backlog-item.angular-ui-tree-appending-child {
        opacity: 1;

        > div.backlog-item-details {
            border: 1px solid #58B359;
            box-shadow: inset 0 0 0 1px #58B359;
            background: rgba(88, 179, 89, 0.12);

            > div.type-border {
                background-color: #58B359;
            }
        }
    }
}
.angular-ui-tree-drag {
    opacity: 1;
}
