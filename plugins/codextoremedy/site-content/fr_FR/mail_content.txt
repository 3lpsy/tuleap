<?php
/**
 * Copyright (c) STMicroelectronics, 2011. All Rights Reserved.
 *
 * This file is a part of Codendi.
 *
 * Codendi is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * Codendi is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Codendi. If not, see <http://www.gnu.org/licenses/>.
 */
$separator     = '<tr><td><HR color="midnightblue" size="3"></td></tr>';
$noreply_alert = '<tr><td><span style="font-size:10.0pt;font-family:Verdana,font:sans-serif;color:red">Veuillez ne pas répondre à cet email.</span></td><tr></table>';
$section_span  = '<span style="font-size:10.0pt;font-family:Verdana,font:sans-serif;color:#009900">';
$title_span    = '<span style="font-size:10.0pt;font-family:Verdana;font:sans-serif;color:navy" >';
$content_span  = '<span style="font-size:10.0pt;font-family:Verdana,font:sans-serif" >';
$core_mail     = $separator.
                 $section_span.'<b>Ticket Details</b></span>'.
                 '<table>'.
                 '<tr><td>'.$title_span.'<b>Type de requête : </b></span></td><td>'.$content_span.$requestType.'</span></td></tr>'.
                 '<tr><td>'.$title_span.'<b>Severité : </b></span></td><td>'.$content_span.$severity.'</span></td></tr>'.
                 '<tr><td>'.$title_span.'<b>Sommaire : </b></span></td><td>'.$content_span.'<pre>'.$summary.'</pre></span></td></tr>'.
                 '<tr><td>'.$title_span.'<b>Description : </b></span></td></tr><tr></table><p>'.$content_span.'<pre>'.$messageToSd .'</pre></span></p>'.
                 $separator.
                 $section_span.'<b>Requester and notification details</b></span>'.
                 '<table>'.
                 '<tr><p><td>'.$title_span.'<b>Utilisateur : </b></span></td><td>'.$content_span.$user->getRealName().' (<em>'.$user->getName().'</em>) <a href="mailto:'.$user->getEmail().'">'.$user->getEmail().'</a></td></span></tr>';
if ($cc != '') {
    $core_mail .= '<tr><td>'.$title_span.'<b>Utilisateurs en CC : </b></span></td><td>'.$content_span;
    $ccMails = array_map('trim', preg_split('/[;]/', $cc));
    foreach ($ccMails as $ccMail) {
        $core_mail .= ' <a href="mailto:'.$ccMail.'">'.$ccMail.'</a>';
    }
    $core_mail .= '</td></span></p></tr>';

}
$core_mail .= '</table>';

$codextoremedy_Failure_mail_content = '<table><tr><td>Chere équipe de support,<br /><br />Un nouveau ticket a été ajouté mais son insertion dans Remedy a échoué.</td></tr>'.
                                      $noreply_alert.
                                      $core_mail;

$codextoremedy_mail_content         = '<table><tr><td>Chere équipe de support,<br /><br />'.$user->getRealName().' a inséré un nouveau ticket Remedy.</td></tr>'.
                                      $noreply_alert.
                                      $core_mail;

$codextoremedy_user_mail_content    = '<table><tr><td>Cher '.$user->getRealName().' (<em>'.$user->getName().'</em>),<br /><br />Vous avez inséré un nouveau ticket Remedy.</td></tr>'.
                                      $noreply_alert.
                                      $core_mail;
 ?>
