#!/usr/bin/perl -U
#
# archive-deleted-items source_path destination_path
#

use warnings;
use strict;
use File::Copy;

my $destination_path = '';

# Treat arguments
if ($#ARGV ne 1) {
    die("Usage: $0 source_path destination_path\n");
}

if ($ARGV[1] =~ /^(.*)(\/(.*))$/) {
    $destination_path = $2;
} else {
    die("Invalid destination path\n");
}

if (!copy($ARGV[0], $ARGV[1])) {
    die("FAILURE: cannot move file ($!)\n");
}

print "OK\n";